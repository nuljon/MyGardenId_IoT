<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>my Garden id_IoT User Interface</title><meta name="description" content="User Interface for myGarden idIoT, an Internet Thing for garden automation. myGarden id_IoT monitors sensors and controls irrigation."><meta name="author" content="Jon A. Nuljon"><link rel="icon" href="images/favicon.ico"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"><!-- <link href="css/custom.css" rel="stylesheet" type="text/css" /> --><!-- add one of the jQWidgets styles --><link rel="stylesheet" src="http://nuljon.com/jqwidgets/styles/jqx.base.css" type="text/css"><link rel="stylesheet" src="http://nuljon.com/jqwidgets/styles/jqx.ui-sunny.css" type="text/css"><!-- add the jQuery script --><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script><script src="js/ie10-viewport-bug-workaround.js"></script><!-- add the jQWidgets framework --><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxcore.js"></script><!-- add one or more widgets --><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxchart.core.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxdata.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxchart.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxgauge.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxknob.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxdatetimeinput.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxtooltip.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/globalization/globalize.js"></script><script type="text/javascript" src="http://nuljon.com/jqwidgets/jqxchart.rangeselector.js"></script><style>body,html{width:100%;height:100%;padding:0;margin:0}.table-danger,.table-info{border:2px solid silver;width:80%;margin-left:10%;Margin-right:10%;font-size:2rem}#barometerGauge,#valveGauge{max-width:200px;margin-left:auto;margin-right:auto;display:block}.control{margin:10px;padding:10px;-webkit-border-radius:20px;border-radius:20px;background-color:#ffa448}</style></head><body><div class="container-fluid"><div class="row" style="background-color:#ffa448"><div class="col text-center"><img class="img-fluid" src="http://nuljon.com/images/myGardenId_IoT.png" alt="myGardenId_IoT banner graphic"></div></div><div class="row my-3"><div class="col-12"><p class="my-2" style="font-weight:700;font-size:1.5rem">Welcome to the UI for the Internet Thing operating in our vegetable garden. This device collects sensor data related to weather and irrigation. In addition to displaying it here, the data is fed to an automation routine that controls the garden water supply. Further details about this project can de obtained from <a href="http://bootstrap.nuljon.com/projects/myGardenId_IoT.html">this website</a>.</p></div></div><div class="row justify-content-around"><div class="col-sm-3 text-center my-3"><div class="control"><p class="my-0" style="font-weight:900;font-size:1.2rem;white-space:nowrap">Soil Moisture<br><span id="soilMoisture" style="font-weight:900;font-size:1.5rem;color:#00f"></span></p><div id="moistureGauge"></div></div></div><div class="col-sm-3 text-center my-3"><div class="control"><p class="my-0" style="font-weight:900;font-size:1.2rem">Temperature<br><span id="currentTemp" style="font-weight:900;color:green;white-space:nowrap"></span></p><div id="temperatureGauge"></div></div></div><div class="col-sm-3 text-center my-3"><div class="control"><p class="my-0" style="font-weight:900;font-size:1.2em">Barometer<br><span id="mBar" style="font-weight:900;font-size:1.2em;color:#00f;white-space:nowrap"></span></p><div id="barometerGauge"></div></div></div><div class="col-sm-3 text-center my-3"><div class="control"><p class="my-0" style="font-weight:900;font-size:1.2rem;white-space:nowrap">Valve Position<br><span id="valvePosition" style="font-weight:900;font-size:1.2em;color:red"></span></p><div class="text-center" id="valveGauge"></div></div></div></div><div class="row"><div class="col-sm-6"><div class="control"><table class="table-danger"><th style="border:2px solid silver;text-align:center">Last Irrigation</th><tr><td style="border:2px solid silver;text-align:center" id="lastWater">-8.5 hours</td></tr></table></div></div><div class="col-sm-6"><div class="control"><table class="table-info"><th style="border:2px solid silver;text-align:center">Next Irrigation</th><tr><td style="border:2px solid silver;text-align:center" id="nextWater">+16.8 hours</td></tr></table></div></div></div><div class="control row"><div class="col-12"><div id="chartContainer" style="width:90%;margin-left:5%;margin-right:5%;height:400px"></div></div></div></div><script type="text/javascript ">$(document).ready(function(){$("#valveGauge").jqxKnob({value:30,min:0,max:100,width:"100%",height:"200",startAngle:270,endAngle:630,snapToStep:!0,rotation:"clockwise",style:{stroke:"white",fill:{color:"white"}},marks:{colorRemaining:{color:"white",border:"white"},colorProgress:{color:"red",border:"red"},type:"circle",offset:"95%",thickness:3,size:"5%",majorSize:"10%",majorInterval:4,minorInterval:4},dial:{innerRadius:"0%",outerRadius:"25%",style:{stroke:"blue",strokeWidth:1,fill:{color:"#0000ff"}}},spinner:{style:{fill:{color:"white"}},innerRadius:"25%",outerRadius:"85%",marks:{colorRemaining:"blue",colorProgress:"blue",type:"line",offset:"23%",thickness:"20%",majorSize:"52%",majorInterval:20,minorInterval:20}},labels:{offset:"88%",step:10,visible:!1},progressBar:{style:{fill:"blue",stroke:"blue"},size:"15%",offset:"75%",background:{fill:"blue",stroke:"blue"}}});var e=$("#valveGauge").val();$("#valvePosition").text(e);var t={940:"poor",1e3:"change",1030:"fair",1050:"good"};$("#barometerGauge").jqxGauge({startAngle:50,endAngle:335,labels:{distance:"50%",interval:1,position:"inside",offset:[-10,-10],visible:!1,formatValue:function(e){return 0==e?"":t[e]}},min:940,max:1060,pointer:{pointerType:"default",style:{fill:"#ff0000",stroke:"#ff0000"},length:"80%",width:"3%",visible:!0},ranges:[{startValue:940,endValue:990,style:{fill:"#525252",stroke:"#000000"},endWidth:15,startWidth:15},{startValue:990,endValue:1010,style:{fill:"#5f6af3",stroke:"#0000ff"},endWidth:15,startWidth:15},{startValue:1010,endValue:1030,style:{fill:"#04ff04",stroke:"#00e800"},endWidth:15,startWidth:15},{startValue:1030,endValue:1046,style:{fill:"#ffff00",stroke:"#c1c100"},endWidth:15,startWidth:15},{startValue:1046,endValue:1060,style:{fill:"#ff680d",stroke:"#b04b00"},endWidth:15,startWidth:15}],ticksMinor:{interval:1,size:"5%"},ticksMajor:{interval:10,size:"9%"},value:1025,width:"100%",height:"200",colorScheme:"scheme01",animationDuration:1200});var a=$("#barometerGauge").val();$("#mBar").text(a+" mBar"),$("#temperatureGauge").jqxLinearGauge({orientation:"vertical",width:"100%",height:"200",max:120,min:20,pointer:{size:"4%",offset:"-2%"},colorScheme:"scheme04",background:{visible:!1},scaleStyle:{stroke:"#ffffff","stroke-width":"10%"},labels:{position:"far",interval:20,offset:10,visible:!0},ticksMajor:{size:"10%",interval:20,style:{"stroke-width":1,stroke:"#000000"}},ticksMinor:{size:"7%",interval:5,style:{"stroke-width":1,stroke:"#000000"}},value:75});var i=$("#temperatureGauge").val();$("#currentTemp").text(i+"° [F]"),$("#moistureGauge").jqxLinearGauge({orientation:"vertical",width:"100%",height:"200",max:100,min:0,pointer:{size:"10%",offset:"-5%"},colorScheme:"scheme05",background:{visible:!1},scaleStyle:{stroke:"#ffffff","stroke-width":"5%"},labels:{position:"far",interval:25,offset:20,visible:!0},ticksMajor:{size:"10%",interval:25,style:{"stroke-width":1,stroke:"#000000"}},ticksMinor:{size:"7%",interval:5,style:{"stroke-width":1,stroke:"#000000"}},rangeSize:"5%",rangesOffset:"-4%",ranges:[{startValue:50,endValue:100,style:{fill:"#0000ff",stroke:"#FF0000"}}],value:58});var r=$("#moistureGauge").val();$("#soilMoisture").text(r);var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o="daydata.csv",s={datatype:"csv",datafields:[{name:"Date"},{name:"water"},{name:"hiTemp"},{name:"loTemp"},{name:"mBar"}],url:o},n=new $.jqx.dataAdapter(s,{async:!1,autoBind:!0,loadError:function(e,t,a){alert('Error loading "'+s.url+'" : '+a)}}),u={title:"Data",description:"from Jon and Mom's garden",enableAnimations:!0,animationDuration:1500,showLegend:!0,padding:{left:5,top:5,right:5,bottom:5},titlePadding:{left:90,top:0,right:0,bottom:10},enableCrosshairs:!0,source:n,colorScheme:"scheme06",xAxis:{dataField:"Date",minValue:new Date(2017,5,1),maxValue:new Date(2017,5,7),type:"date",baseUnit:"day",valuesOnTicks:!1,labels:{angle:55,rotationPoint:"left",offset:{x:0,y:-10},formatFunction:function(e){return e.getDate()+"-"+l[e.getMonth()]+"'"+e.getFullYear().toString().substring(2)}},gridLines:{visible:!0},rangeSelector:{size:100,padding:{top:10,bottom:0},backgroundColor:"white",dataField:"hiTemp",baseUnit:"month",showGridLines:!1,formatFunction:function(e){return l[e.getMonth()]+"'"+e.getFullYear().toString().substring(2)}}},seriesGroups:[{type:"rangecolumn",columnsGapPercent:50,valueAxis:{minValue:20,maxValue:120,unitInterval:10,title:{text:"Temperature [F]<br>"},labels:{horizontalAlignment:"right",formatSettings:{sufix:"°"}}},toolTipFormatSettings:{sufix:"°"},series:[{dataFieldTo:"hiTemp",displayText:"Temperature Range",dataFieldFrom:"loTemp",color:"orange",opacity:1}]},{type:"scatter",showLabels:!1,valueAxis:{visible:!1,minValue:.5,maxValue:2.5,unitInterval:.5,gridLines:{visible:!1}},series:[{dataField:"water",symbolSize:20,symbolType:"triangle",displayText:"Days Irrigated"}]},{type:"line",showLabels:!1,valueAxis:{minValue:940,maxValue:1060,unitInterval:20,position:"right",gridLines:{visible:!1},title:{text:"Barometer [mBar]<br>"},labels:{horizontalAlignment:"left"}},toolTipFormatSettings:{sufix:" mBar"},series:[{dataField:"mBar",color:"green",displayText:"Barometer"}]}]};$("#chartContainer").jqxChart(u)})</script></body></html>